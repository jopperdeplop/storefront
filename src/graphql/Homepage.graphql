query HomepageContent($channel: String!, $locale: LanguageCodeEnum!, $brandPageTypeId: [ID!]) {
	hero: page(slug: "home-hero") {
		title
		content
		translation(languageCode: $locale) {
			title
			content
		}
		# --- FIX: Use 'value' instead of 'file' ---
		heroImage: assignedAttribute(slug: "hero-image") {
			... on AssignedFileAttribute {
				value {
					url
				}
			}
		}
	}

	spotlight: page(slug: "home-spotlight") {
		title
		content
		translation(languageCode: $locale) {
			title
			content
		}
	}

	featured: collection(slug: "featured-products", channel: $channel) {
		name
		translation(languageCode: $locale) {
			name
		}
		products(first: 8) {
			edges {
				node {
					...ProductListItem
				}
			}
		}
	}

	# Fetch pages strictly of the 'Brand' Page Type
	brands: pages(
		filter: { pageTypes: $brandPageTypeId }
		first: 20
		sortBy: { field: CREATION_DATE, direction: DESC }
	) {
		edges {
			node {
				id
				title
				slug
				logo: assignedAttribute(slug: "brand-logo") {
					... on AssignedFileAttribute {
						value {
							url
						}
					}
				}
			}
		}
	}
}
